function simpleImageUploadCtrlFn(e){var n=this;n.getImagesFromEvent=function(e){var n=e.originalEvent.target.files||e.originalEvent.dataTransfer.files,r=1,i=null;angular.forEach(n,function(e){null!==e.type.match("image.*")&&1===r?(i=e,r+=1):r>1&&console.warn("This directive will only process 1 image every time")}),a(i)};var a=function(e){r(e).readAsDataURL(e)},r=function(a){var r=new FileReader;return r.onload=function(a){return function(r){n.imageFile={source:r.target.result,file:a,name:a.name},e.$apply()}}(a),r}}function simpleImageUploadFn(){function e(e,n,a,r,i){var l=n.find("input"),o=n.find("div");l.on("change",function(e){r.getImagesFromEvent(e)}),o.on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){o.addClass("is-dragover")}).on("dragleave dragend drop",function(){o.removeClass("is-dragover")}).on("drop",function(e){r.getImagesFromEvent(e)}).on("click",function(){l.trigger("click")})}return{restrict:"E",replace:!1,template:'<input type="file" style="display:none;"><div class="simpleImageUpload"></div>',scope:{},bindToController:{imageFile:"="},controller:"simpleImageUploadCtrl",link:e}}angular.module("simpleUtil",[]).controller("simpleImageUploadCtrl",["$scope",simpleImageUploadCtrlFn]).directive("simpleImageUpload",[simpleImageUploadFn]);